---
title: MoveStake
description: Transfer delegated stake between two stake accounts.
---

## Overview

| Property | Value |
|----------|-------|
| Instruction Index | 16 |
| Estimated CU | ~21,700 |

The `MoveStake` instruction transfers a portion of delegated stake from one account to another. Both accounts must be delegated to the same validator.

## Accounts

| Index | Name | Writable | Signer | Description |
|-------|------|----------|--------|-------------|
| 0 | Source Stake Account | ✅ | ❌ | Account to transfer stake from |
| 1 | Destination Stake Account | ✅ | ❌ | Account to receive stake |
| 2 | Stake Authority | ❌ | ✅ | Stake authority for both accounts |

## Arguments

| Field | Type | Description |
|-------|------|-------------|
| `lamports` | u64 | Amount of stake to move |

## Requirements

- Both accounts must be active (fully activated)
- Both accounts must be delegated to the same validator
- Both accounts must have the same stake authority
- Source must retain minimum delegation after transfer
- Destination must have at least minimum delegation

## Difference from Split

| Feature | MoveStake | Split |
|---------|-----------|-------|
| Destination state | Must be initialized & delegated | Must be uninitialized |
| Same validator | Required | N/A (destination inherits) |
| Creates new account | No | Yes |
| Transfers delegation | Yes | Creates new delegation |

## Examples

### TypeScript

```typescript
import {
  Connection,
  PublicKey,
  Transaction,
  TransactionInstruction,
  SYSVAR_CLOCK_PUBKEY,
} from '@solana/web3.js';

const STAKE_PROGRAM_ID = new PublicKey('Stake11111111111111111111111111111111111111');

function createMoveStakeInstruction(
  sourceStake: PublicKey,
  destinationStake: PublicKey,
  stakeAuthority: PublicKey,
  lamports: bigint,
): TransactionInstruction {
  // Instruction index 16 + u64 lamports
  const data = Buffer.alloc(4 + 8);
  data.writeUInt32LE(16, 0);
  data.writeBigUInt64LE(lamports, 4);

  return new TransactionInstruction({
    keys: [
      { pubkey: sourceStake, isSigner: false, isWritable: true },
      { pubkey: destinationStake, isSigner: false, isWritable: true },
      { pubkey: stakeAuthority, isSigner: true, isWritable: false },
    ],
    programId: STAKE_PROGRAM_ID,
    data,
  });
}

// Usage
const moveIx = createMoveStakeInstruction(
  sourceStakePubkey,
  destinationStakePubkey,
  stakeAuthority.publicKey,
  BigInt(2_000_000_000), // 2 SOL worth of stake
);

const tx = new Transaction().add(moveIx);
await sendAndConfirmTransaction(connection, tx, [payer, stakeAuthority]);
```

### TypeScript (@solana-program/stake)

```typescript
import { getMoveStakeInstruction } from '@solana-program/stake';
import { lamports } from '@solana/kit';

const moveStakeIx = getMoveStakeInstruction({
  sourceStakeAccount: sourceStakeAddress,
  destinationStakeAccount: destinationStakeAddress,
  stakeAuthority: stakeAuthoritySigner,
  lamports: lamports(2_000_000_000n),
});
```

### Rust

```rust
use solana_sdk::{
    instruction::{AccountMeta, Instruction},
    pubkey::Pubkey,
    stake::program::id as stake_program_id,
};

fn move_stake_instruction(
    source: &Pubkey,
    destination: &Pubkey,
    authority: &Pubkey,
    lamports: u64,
) -> Instruction {
    let mut data = vec![16, 0, 0, 0]; // Instruction index 16
    data.extend_from_slice(&lamports.to_le_bytes());
    
    Instruction {
        program_id: stake_program_id(),
        accounts: vec![
            AccountMeta::new(*source, false),
            AccountMeta::new(*destination, false),
            AccountMeta::new_readonly(*authority, true),
        ],
        data,
    }
}
```
